<?phpinclude_once('../../../usuarios.class.php');include_once('../model/fatoresPersonalidadePersistente.php');include_once('../model/fatoresMotivacionaisBiblioteca.php');//Definio de constantesconst SEM_ERRO = 0;const ERRO_MUITOS_USUARIOS = 1;const ERRO_POUCOS_USUARIOS = 2;const ERRO_BD = 3;//Inicializaes$erro = SEM_ERRO;//Dados recebidos da view$assistencia_post			 = $_POST['assistencia'];$intracepcao_post			 = $_POST['intracepcao'];$afago_post					 = $_POST['afago'];$deferencia_post			 = $_POST['deferencia'];$afiliacao_post				 = $_POST['afiliacao'];$dominancia_post			 = $_POST['dominancia'];$denegacao_post				 = $_POST['denegacao'];$desempenho_post			 = $_POST['desempenho'];$exibicao_post				 = $_POST['exibicao'];$agressao_post				 = $_POST['agressao'];$ordem_post					 = $_POST['ordem'];$persistencia_post			 = $_POST['persistencia'];$mudanca_post				 = $_POST['mudanca'];$autonomia_post				 = $_POST['autonomia'];$heterossexualidade_post	 = $_POST['heterossexualidade'];$usuario_post				 = $_POST['nomeUsuario'];//Incio$usuariosComNome = Usuario::buscaPorNome($usuario_post);if(1 < count($usuariosComNome) and $erro == SEM_ERRO){	$erro = ERRO_MUITOS_USUARIOS;	echo "Muitos usurios encontrados!";} else if(count($usuariosComNome) < 1 and $erro == SEM_ERRO){	$erro = ERRO_POUCOS_USUARIOS;	echo "Nenhum usurio encontrado!";} else {	$fatorPersonalidade = new fatoresPersonalidadePersistente($usuariosComNome[0]->getId(), $assistencia_post, $intracepcao_post, $afago_post, $deferencia_post,																$afiliacao_post, $dominancia_post, $denegacao_post, $desempenho_post, $exibicao_post,																$agressao_post, $ordem_post, $persistencia_post, $mudanca_post, $autonomia_post, $heterossexualidade_post);}if($erro == SEM_ERRO){	$conseguiuSalvar = $fatorPersonalidade->salvar();	if($conseguiuSalvar){		echo "Salvo com sucesso!";	} else {		$erro = ERRO_BD;		echo "No foi possvel salvar no BD.";	}}?>